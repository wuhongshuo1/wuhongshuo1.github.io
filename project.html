<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Project</title>
</head>

<body>
	<p id=element> 试试 </p>
	<script src="chart.min.js"> //引入Chart.js
	Chart.defaults.global.responsive = true; //默认开启图表响应
	</script>
	<script src="jquery-3.6.0.min.js"> //引入jquery.js
	</script>
	
		
	<script>
	function loadXMLDoc(dname)
{
    if (window.XMLHttpRequest)
    {
        xhttp=new XMLHttpRequest();
    }
    else
    {
        xhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xhttp.open("GET",dname,false);
    xhttp.send();
    return xhttp.responseXML;
}
	</script>
	<canvas id="myChart" width="400" height="400"></canvas> <!--声明图表大小-->
	
	<script>
		xmlDoc=loadXMLDoc("dataBase.xml");
		function test(){
			document.getElementById("element").innerHTML=xmlDoc.getElementsByTagName("Hour")[0].childNodes[0].nodeValue;
		};
	var news ={newsID:0,newsName:"",newsDate:"",newsTime:"",newsHot:"",newsRank:0};
	var chartData = { //定义图表数据
    type: 'bar',
    data: {
        labels: [],
        datasets: [{
            data: [],
			fillColor: "rgba(0,60,100,1)",
			backgroundColor:"rgba(0,60,100,1)",
            borderWidth: 1,
        }],
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        } 
    }
	};
	var ctx = document.getElementById("myChart");
	var myChart = new Chart(ctx,chartData,{responsive:true});
	var index =11;
	function addData(chart, label, data) {
    	chart.data.labels.push(label);
    	chart.data.datasets.forEach((dataset) => {
        	dataset.data.push(data);
    	});
		index++;
    	chart.update();
	};

	function removeData(chart) {
		chart.data.labels.pop();
    	chart.data.datasets.forEach((dataset) => {
        	dataset.data.pop();
    	});
    	chart.update();
	};
	var arr=new Array();
	function setup()
		{
			for (var i=0;i<7;i++)
				{
					addData(myChart,i,xmlDoc.getElementsByTagName("Hot")[i].childNodes[0].nodeValue);
				}
		};
	function load()
	{

	}
	</script>
	<button onClick="setup()">点击</button>
</body>
</html>
